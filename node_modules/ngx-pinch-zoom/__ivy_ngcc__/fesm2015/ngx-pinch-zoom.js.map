{"version":3,"file":"ngx-pinch-zoom.js","sources":["../../../projects/ngx-pinch-zoom/src/lib/properties.ts","../../../projects/ngx-pinch-zoom/src/lib/touches.ts","../../../projects/ngx-pinch-zoom/src/lib/ivypinch.ts","../../../projects/ngx-pinch-zoom/src/lib/pinch-zoom.component.ts","../../../projects/ngx-pinch-zoom/src/lib/pinch-zoom.module.ts","../../../projects/ngx-pinch-zoom/src/public-api.ts","../../../projects/ngx-pinch-zoom/src/ngx-pinch-zoom.ts"],"names":[],"mappings":"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","sourcesContent":["import {Properties} from './interfaces';\n\nexport const defaultProperties:Properties = {\n    transitionDuration: 200,\n    doubleTap: true,\n    doubleTapScale: 2,\n    limitZoom: \"original image size\",\n    autoZoomOut: false,\n    zoomControlScale: 1,\n    minPanScale: 1.0001,\n    minScale: 0,\n    listeners: \"mouse and touch\",\n    wheel: true,\n    wheelZoomFactor: 0.2,\n    draggableImage: false\n}\n\nexport const backwardCompatibilityProperties:any = {\n    \"transition-duration\": \"transitionDuration\",\n    \"transitionDurationBackwardCompatibility\": \"transitionDuration\",\n    \"double-tap\": \"doubleTap\",\n    \"doubleTapBackwardCompatibility\": \"doubleTap\",\n    \"double-tap-scale\": \"doubleTapScale\",\n    \"doubleTapScaleBackwardCompatibility\": \"doubleTapScale\",\n    \"auto-zoom-out\": \"autoZoomOut\",\n    \"autoZoomOutBackwardCompatibility\": \"autoZoomOut\",\n    \"limit-zoom\": \"limitZoom\",\n    \"limitZoomBackwardCompatibility\": \"limitZoom\"\n}","export interface Properties {\r\n    element: HTMLElement;\r\n    listeners?: 'auto' | 'mouse and touch';\r\n    touchListeners?: any;\r\n    mouseListeners?: any;\r\n    otherListeners?: any;\r\n    resize?: boolean;\r\n}\r\n\r\nexport type EventType = undefined | 'touchend' | 'pan' | 'pinch' | 'horizontal-swipe' | 'vertical-swipe' | 'tap' | 'longtap';\r\nexport type TouchHandler = 'handleTouchstart' | 'handleTouchmove' | 'handleTouchend';\r\nexport type MouseHandler = 'handleMousedown' | 'handleMousemove' | 'handleMouseup';\r\n\r\nexport class Touches {\r\n    properties: Properties;\r\n    element: HTMLElement;\r\n    elementPosition: ClientRect;\r\n    eventType: EventType = undefined;\r\n    handlers: any = {};\r\n    startX = 0;\r\n    startY = 0;\r\n    lastTap = 0;\r\n    doubleTapTimeout: any;\r\n    doubleTapMinTimeout = 300;\r\n    tapMinTimeout = 200;\r\n    touchstartTime = 0;\r\n    i: number = 0;\r\n    isMousedown = false;\r\n\r\n    _touchListeners: any = {\r\n        \"touchstart\": \"handleTouchstart\",\r\n        \"touchmove\": \"handleTouchmove\",\r\n        \"touchend\": \"handleTouchend\"\r\n    }\r\n    _mouseListeners: any = {\r\n        \"mousedown\": \"handleMousedown\",\r\n        \"mousemove\": \"handleMousemove\",\r\n        \"mouseup\": \"handleMouseup\",\r\n        \"wheel\": \"handleWheel\"\r\n    }\r\n    _otherListeners: any = {\r\n        \"resize\": \"handleResize\"\r\n    }\r\n\r\n    get touchListeners() {\r\n        return this.properties.touchListeners ? this.properties.touchListeners : this._touchListeners;\r\n    }\r\n\r\n    get mouseListeners() {\r\n        return this.properties.mouseListeners ? this.properties.mouseListeners : this._mouseListeners;\r\n    }\r\n\r\n    get otherListeners() {\r\n        return this.properties.otherListeners ? this.properties.otherListeners : this._otherListeners;\r\n    }\r\n\r\n    constructor(properties: Properties) {\r\n        this.properties = properties;\r\n        this.element = this.properties.element;\r\n        this.elementPosition = this.getElementPosition();\r\n\r\n        this.toggleEventListeners('addEventListener');\r\n    }\r\n\r\n    destroy() {\r\n        this.toggleEventListeners('removeEventListener');\r\n    }\r\n\r\n    toggleEventListeners(action: 'addEventListener' | 'removeEventListener') {\r\n        let listeners;\r\n\r\n        if (this.properties.listeners === 'mouse and touch') {\r\n            listeners = Object.assign(this.touchListeners, this.mouseListeners);\r\n        } else {\r\n            listeners = this.detectTouchScreen() ? this.touchListeners : this.mouseListeners;\r\n        }\r\n\r\n        if (this.properties.resize) {\r\n            listeners = Object.assign(listeners, this.otherListeners);\r\n        }\r\n\r\n        for (var listener in listeners) {\r\n            const handler: MouseHandler = listeners[listener];\r\n\r\n            // Window\r\n            if (listener === \"resize\") {\r\n                if (action === 'addEventListener') {\r\n                    window.addEventListener(listener, this[handler], false);\r\n                }\r\n                if (action === 'removeEventListener') {\r\n                    window.removeEventListener(listener, this[handler], false);\r\n                }\r\n            // Document\r\n            } else if (listener === 'mouseup' || listener === \"mousemove\") {\r\n                if (action === 'addEventListener') {\r\n                    document.addEventListener(listener, this[handler], false);\r\n                }\r\n                if (action === 'removeEventListener') {\r\n                    document.removeEventListener(listener, this[handler], false);\r\n                }\r\n            // Element\r\n            } else {\r\n                if (action === 'addEventListener') {\r\n                    this.element.addEventListener(listener, this[handler], false);\r\n                }\r\n                if (action === 'removeEventListener') {\r\n                    this.element.removeEventListener(listener, this[handler], false);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    addEventListeners(listener: string) {\r\n        const handler: MouseHandler = this._mouseListeners[listener];\r\n        window.addEventListener(listener, this[handler], false);\r\n    }\r\n\r\n    removeEventListeners(listener: string) {\r\n        const handler: MouseHandler = this._mouseListeners[listener];\r\n        window.removeEventListener(listener, this[handler], false);\r\n    }\r\n\r\n    /*\r\n     * Listeners\r\n     */\r\n\r\n    /* Touchstart */\r\n\r\n    handleTouchstart = (event: any) => {\r\n        this.elementPosition = this.getElementPosition();\r\n        this.touchstartTime = new Date().getTime();\r\n\r\n        if (this.eventType === undefined) {\r\n            this.getTouchstartPosition(event);\r\n        }\r\n\r\n        this.runHandler(\"touchstart\", event);\r\n    }\r\n\r\n\r\n    /* Touchmove */\r\n\r\n    handleTouchmove = (event: any) => {\r\n        const touches = event.touches;\r\n\r\n        // Pan\r\n        if (this.detectPan(touches)) {\r\n            this.runHandler(\"pan\", event);\r\n        }\r\n\r\n        // Pinch\r\n        if (this.detectPinch(event)) {\r\n            this.runHandler(\"pinch\", event);\r\n        }\r\n    }\r\n\r\n    handleLinearSwipe(event: any) {\r\n        //event.preventDefault();\r\n\r\n        this.i++;\r\n\r\n        if (this.i > 3) {\r\n            this.eventType = this.getLinearSwipeType(event);\r\n        }\r\n\r\n        if (this.eventType === 'horizontal-swipe') {\r\n            this.runHandler('horizontal-swipe', event);\r\n        }\r\n\r\n        if (this.eventType === 'vertical-swipe') {\r\n            this.runHandler('vertical-swipe', event);\r\n        }\r\n    }\r\n\r\n\r\n    /* Touchend */\r\n\r\n    handleTouchend = (event: any) => {\r\n        const touches = event.touches;\r\n\r\n        // Double Tap\r\n        if (this.detectDoubleTap()) {\r\n            this.runHandler(\"double-tap\", event);\r\n        }\r\n\r\n        // Tap\r\n        this.detectTap();\r\n\r\n        this.runHandler(\"touchend\", event);\r\n        this.eventType = 'touchend';\r\n\r\n        if (touches && touches.length === 0) {\r\n            this.eventType = undefined;\r\n            this.i = 0;\r\n        }\r\n    }\r\n\r\n\r\n    /* Mousedown */\r\n\r\n    handleMousedown = (event: any) => {\r\n        this.isMousedown = true;\r\n        this.elementPosition = this.getElementPosition();\r\n        this.touchstartTime = new Date().getTime();\r\n\r\n        if (this.eventType === undefined) {\r\n            this.getMousedownPosition(event);\r\n        }\r\n\r\n        this.runHandler(\"mousedown\", event);\r\n    }\r\n\r\n\r\n    /* Mousemove */\r\n\r\n    handleMousemove = (event: any) => {\r\n        //event.preventDefault();\r\n        \r\n        if (!this.isMousedown) {\r\n            return;\r\n        }\r\n\r\n        // Pan\r\n        this.runHandler(\"pan\", event);\r\n\r\n        // Linear swipe\r\n        switch (this.detectLinearSwipe(event)) {\r\n            case \"horizontal-swipe\":\r\n                event.swipeType = \"horizontal-swipe\";\r\n                this.runHandler(\"horizontal-swipe\", event);\r\n                break;\r\n            case \"vertical-swipe\":\r\n                event.swipeType = \"vertical-swipe\";\r\n                this.runHandler(\"vertical-swipe\", event);\r\n                break;\r\n        }\r\n\r\n        // Linear swipe\r\n        if (this.detectLinearSwipe(event) ||\r\n            this.eventType === 'horizontal-swipe' ||\r\n            this.eventType === 'vertical-swipe') {\r\n\r\n            this.handleLinearSwipe(event);\r\n        }\r\n    }\r\n\r\n\r\n    /* Mouseup */\r\n\r\n    handleMouseup = (event: any) => {\r\n\r\n        // Tap\r\n        this.detectTap();\r\n\r\n        this.isMousedown = false;\r\n        this.runHandler(\"mouseup\", event);\r\n        this.eventType = undefined;\r\n        this.i = 0;\r\n    }\r\n\r\n\r\n    /* Wheel */\r\n\r\n    handleWheel = (event: any) => {\r\n        this.runHandler(\"wheel\", event);\r\n    }\r\n\r\n    /* Resize */\r\n\r\n    handleResize = (event: any) => {\r\n        this.runHandler(\"resize\", event);\r\n    }\r\n\r\n    runHandler(eventName: any, response: any) {\r\n        if (this.handlers[eventName]) {\r\n            this.handlers[eventName](response);\r\n        }\r\n    }\r\n\r\n\r\n    /*\r\n     * Detection\r\n     */\r\n\r\n    detectPan(touches: any) {\r\n        return touches.length === 1 && !this.eventType || this.eventType === 'pan';\r\n    }\r\n\r\n    detectDoubleTap() {\r\n        if (this.eventType != undefined) {\r\n            return;\r\n        }\r\n\r\n        const currentTime = new Date().getTime();\r\n        const tapLength = currentTime - this.lastTap;\r\n\r\n        clearTimeout(this.doubleTapTimeout);\r\n\r\n        if (tapLength < this.doubleTapMinTimeout && tapLength > 0) {\r\n            return true;\r\n        } else {\r\n            this.doubleTapTimeout = setTimeout(() => {\r\n                clearTimeout(this.doubleTapTimeout);\r\n            }, this.doubleTapMinTimeout);\r\n        }\r\n        this.lastTap = currentTime;\r\n\r\n        return undefined;\r\n    }\r\n\r\n    detectTap(): void {\r\n        if (this.eventType != undefined) {\r\n            return;\r\n        }\r\n\r\n        const currentTime = new Date().getTime();\r\n        const tapLength = currentTime - this.touchstartTime;\r\n\r\n        if (tapLength > 0) {\r\n            if (tapLength < this.tapMinTimeout) {\r\n                this.runHandler(\"tap\", {});\r\n            } else {\r\n                this.runHandler(\"longtap\", {});\r\n            }\r\n        }\r\n    }\r\n\r\n    detectPinch(event: any) {\r\n        const touches = event.touches;\r\n        return (touches.length === 2 && this.eventType === undefined) || this.eventType === 'pinch';\r\n    }\r\n\r\n    detectLinearSwipe(event: any) {\r\n        const touches = event.touches;\r\n\r\n        if (touches) {\r\n            if (touches.length === 1 && !this.eventType || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\r\n                return this.getLinearSwipeType(event);\r\n            }\r\n        } else {\r\n            if (!this.eventType || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\r\n                return this.getLinearSwipeType(event);\r\n            }\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    getLinearSwipeType(event: any) {\r\n        if (this.eventType !== 'horizontal-swipe' && this.eventType !== 'vertical-swipe') {\r\n            const movementX = Math.abs(this.moveLeft(0, event) - this.startX);\r\n            const movementY = Math.abs(this.moveTop(0, event) - this.startY);\r\n\r\n            if ((movementY * 3) > movementX) {\r\n                return 'vertical-swipe';\r\n            } else {\r\n                return 'horizontal-swipe';\r\n            }\r\n        } else {\r\n            return this.eventType;\r\n        }\r\n    }\r\n\r\n    getElementPosition() {\r\n        return this.element.getBoundingClientRect();\r\n    }\r\n\r\n    getTouchstartPosition(event: any) {\r\n        this.startX = event.touches[0].clientX - this.elementPosition.left;\r\n        this.startY = event.touches[0].clientY - this.elementPosition.top;\r\n    }\r\n\r\n    getMousedownPosition(event: any) {\r\n        this.startX = event.clientX - this.elementPosition.left;\r\n        this.startY = event.clientY - this.elementPosition.top;\r\n    }\r\n\r\n    moveLeft(index: any, event: any) {\r\n        const touches = event.touches;\r\n\r\n        if (touches) {\r\n            return touches[index].clientX - this.elementPosition.left;\r\n        } else {\r\n            return event.clientX - this.elementPosition.left;\r\n        }\r\n    }\r\n\r\n    moveTop(index: any, event: any) {\r\n        const touches = event.touches;\r\n\r\n        if (touches) {\r\n            return touches[index].clientY - this.elementPosition.top;\r\n        } else {\r\n            return event.clientY - this.elementPosition.top;\r\n        }\r\n    }\r\n\r\n    detectTouchScreen() {\r\n        var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\r\n        var mq = function(query: any) {\r\n            return window.matchMedia(query).matches;\r\n        }\r\n\r\n        if (('ontouchstart' in window)) {\r\n            return true;\r\n        }\r\n\r\n        // include the 'heartz' as a way to have a non matching MQ to help terminate the join\r\n        // https://git.io/vznFH\r\n        var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\r\n        return mq(query);\r\n    }\r\n\r\n\r\n    /* Public properties and methods */\r\n    on(event: EventType, handler: Function) {\r\n        if (event) {\r\n            this.handlers[event] = handler;\r\n        }\r\n    }\r\n}","import {Touches} from './touches';\nimport {Properties} from './interfaces';\nimport {defaultProperties} from './properties';\n\ntype PropertyName = keyof Properties;\n\nexport class IvyPinch {\n    properties: Properties = defaultProperties;\n    touches: any;\n    element: any;\n    elementTarget: any;\n    parentElement: any;\n    i: number = 0;\n    public scale: number = 1;\n    initialScale: number = 1;\n    elementPosition: any;\n    eventType: any;\n    startX: number = 0;\n    startY: number = 0;\n    moveX: number = 0;\n    moveY: number = 0;\n    initialMoveX: number = 0;\n    initialMoveY: number = 0;\n    moveXC: number = 0;\n    moveYC: number = 0;\n    lastTap: number = 0;\n    draggingMode: boolean = false;\n    distance: number = 0;\n    doubleTapTimeout: number = 0;\n    initialDistance: number = 0;\n    events: any = {};\n    maxScale!: number;\n    defaultMaxScale: number = 3;\n\n    // Minimum scale at which panning works\n    get minPanScale() {\n        return this.getPropertiesValue(\"minPanScale\");\n    }\n\n    get fullImage() {\n        return this.properties.fullImage;\n    }\n\n    constructor(properties: any) {\n        this.element = properties.element;\n\n        if (!this.element) {\n            return;\n        }\n\n        this.elementTarget = this.element.querySelector('*').tagName;\n        this.parentElement = this.element.parentElement;\n        this.properties = Object.assign({}, defaultProperties, properties);\n        this.detectLimitZoom();\n\n        this.touches = new Touches({\n            element: properties.element,\n            listeners: properties.listeners,\n            resize: properties.autoHeight,\n            mouseListeners: {\n                \"mousedown\": \"handleMousedown\",\n                \"mouseup\": \"handleMouseup\",\n                \"wheel\": \"handleWheel\"\n            }\n        });\n\n\n        /* Init */\n        this.setBasicStyles();\n\n        /*\n         * Listeners\n         */\n\n        this.touches.on('touchstart', this.handleTouchstart);\n        this.touches.on('touchend', this.handleTouchend);\n        this.touches.on('mousedown', this.handleTouchstart);\n        this.touches.on('mouseup', this.handleTouchend);\n        this.touches.on('pan', this.handlePan);\n        this.touches.on('mousemove', this.handlePan);\n        this.touches.on('pinch', this.handlePinch);\n\n        if (this.properties.wheel) {\n            this.touches.on('wheel', this.handleWheel);\n        }\n\n        if (this.properties.doubleTap) {\n            this.touches.on('double-tap', this.handleDoubleTap);\n        }\n\n        if (this.properties.autoHeight) {\n            this.touches.on('resize', this.handleResize);\n        }\n    }\n\n\n    /* Touchstart */\n\n    handleTouchstart = (event: any) => {\n        this.touches.addEventListeners(\"mousemove\", \"handleMousemove\");\n        this.getElementPosition();\n\n        if (this.eventType === undefined) {\n            this.getTouchstartPosition(event);\n        }\n    }\n\n\n    /* Touchend */\n\n    handleTouchend = (event: any) => {\n\n        /* touchend */\n        if (event.type === \"touchend\") {\n            this.i = 0;\n            this.draggingMode = false;\n            const touches = event.touches;\n\n            // Min scale\n            if (this.scale < 1) {\n                this.scale = 1;\n            }\n\n            // Auto Zoom Out\n            if (this.properties.autoZoomOut && this.eventType === 'pinch') {\n                this.scale = 1;\n            }\n\n            // Align image\n            if (this.eventType === 'pinch' || \n                this.eventType === 'pan' && this.scale > this.minPanScale) {\n\n                this.alignImage();\n            }\n\n            // Update initial values\n            if (this.eventType === 'pinch' ||\n                this.eventType === 'pan' ||\n                this.eventType === 'horizontal-swipe' ||\n                this.eventType === 'vertical-swipe') {\n\n                this.updateInitialValues();\n            }\n\n            this.eventType = 'touchend';\n\n            if (touches && touches.length === 0) {\n                this.eventType = undefined;\n            }\n        }\n\n        /* mouseup */\n        if (event.type === \"mouseup\") {\n            this.draggingMode = false;\n            this.updateInitialValues();\n            this.eventType = undefined;\n        }\n\n        this.touches.removeEventListeners(\"mousemove\", \"handleMousemove\");\n    }\n\n\n    /*\n     * Handlers\n     */\n\n    handlePan = (event: any) => {\n        if (this.scale < this.minPanScale || this.properties.disablePan) {\n            return;\n        }\n\n        event.preventDefault();\n        const {\n            clientX,\n            clientY\n        } = this.getClientPosition(event);\n\n        if (!this.eventType) {\n            this.startX = clientX - this.elementPosition.left;\n            this.startY = clientY - this.elementPosition.top;\n        }\n\n        this.eventType = 'pan';\n        this.moveX = this.initialMoveX + (this.moveLeft(event, 0) - this.startX);\n        this.moveY = this.initialMoveY + (this.moveTop(event, 0) - this.startY);\n\n        if (this.properties.limitPan) {\n            this.limitPanY();\n            this.limitPanX();\n        }\n\n        /* mousemove */\n        if (event.type === \"mousemove\" && this.scale > this.minPanScale) {\n            this.centeringImage();\n        }\n\n        this.transformElement(0);\n    }\n\n    handleDoubleTap = (event: any) => {\n        this.toggleZoom(event);\n        return;\n    }\n\n    handlePinch = (event: any) => {\n        event.preventDefault();\n\n        if (this.eventType === undefined || this.eventType === 'pinch') {\n            const touches = event.touches;\n\n            if (!this.eventType) {\n                this.initialDistance = this.getDistance(touches);\n\n                const moveLeft0 = this.moveLeft(event, 0);\n                const moveLeft1 = this.moveLeft(event, 1);\n                const moveTop0 = this.moveTop(event, 0);\n                const moveTop1 = this.moveTop(event, 1);\n\n                this.moveXC = ((moveLeft0 + moveLeft1) / 2) - this.initialMoveX;\n                this.moveYC = ((moveTop0 + moveTop1) / 2) - this.initialMoveY;\n            }\n\n            this.eventType = 'pinch';\n            this.distance = this.getDistance(touches);\n            this.scale = this.initialScale * (this.distance / this.initialDistance);\n            this.moveX = this.initialMoveX - (((this.distance / this.initialDistance) * this.moveXC) - this.moveXC);\n            this.moveY = this.initialMoveY - (((this.distance / this.initialDistance) * this.moveYC) - this.moveYC);\n\n            this.handleLimitZoom();\n\n            if (this.properties.limitPan) {\n                this.limitPanY();\n                this.limitPanX();\n            }\n\n            this.transformElement(0);\n        }\n    }\n\n\n    handleWheel = (event: any) => {\n        event.preventDefault();\n\n        let wheelZoomFactor = this.properties.wheelZoomFactor || 0;\n        let zoomFactor = event.deltaY < 0 ? (wheelZoomFactor) : (- wheelZoomFactor);\n        let newScale = this.initialScale + zoomFactor;\n\n        /* Round value */\n        if (newScale < (1 + wheelZoomFactor)) {\n            newScale = 1;\n        } else if (newScale < this.maxScale && newScale > this.maxScale - wheelZoomFactor) {\n            newScale = this.maxScale;\n        }\n\n        if (newScale < 1 || newScale > this.maxScale) {\n            return;\n        }\n\n        if (newScale === this.scale) {\n            return;\n        }\n\n        this.getElementPosition();\n        this.scale = newScale;\n\n        /* Get cursor position over image */\n        let xCenter = (event.clientX - this.elementPosition.left) - this.initialMoveX;\n        let yCenter = (event.clientY - this.elementPosition.top) - this.initialMoveY;\n\n        this.setZoom({\n            scale: newScale,\n            center: [xCenter, yCenter]\n        });\n    }\n\n    handleResize = (_event: any) => {\n        this.setAutoHeight();\n    }\n\n    handleLimitZoom() {\n        const limitZoom = this.maxScale;\n        const minScale = this.properties.minScale || 0;\n\n        if (this.scale > limitZoom || this.scale <= minScale) {\n            const imageWidth = this.getImageWidth();\n            const imageHeight = this.getImageHeight();\n            const enlargedImageWidth = imageWidth * this.scale;\n            const enlargedImageHeight = imageHeight * this.scale;\n            const moveXRatio = this.moveX / (enlargedImageWidth - imageWidth);\n            const moveYRatio = this.moveY / (enlargedImageHeight - imageHeight);\n\n            if (this.scale > limitZoom) {\n                this.scale = limitZoom;\n            }\n\n            if (this.scale <= minScale) {\n                this.scale = minScale;\n            }\n\n            const newImageWidth = imageWidth * this.scale;\n            const newImageHeight = imageHeight * this.scale;\n\n            this.moveX = -Math.abs((moveXRatio * (newImageWidth - imageWidth)));\n            this.moveY = -Math.abs((-moveYRatio * (newImageHeight - imageHeight)));\n        }\n    }\n\n    moveLeft(event: any, index: number = 0) {\n        const clientX = this.getClientPosition(event, index).clientX;\n        return clientX - this.elementPosition.left;\n    }\n\n    moveTop(event: any, index: number = 0) {\n        const clientY = this.getClientPosition(event, index).clientY;\n        return clientY - this.elementPosition.top;\n    }\n\n\n    /*\n     * Detection\n     */\n\n    centeringImage() {\n        const img = this.element.getElementsByTagName(this.elementTarget)[0];\n        const initialMoveX = this.moveX;\n        const initialMoveY = this.moveY;\n\n        if (this.moveY > 0) {\n            this.moveY = 0;\n        }\n        if (this.moveX > 0) {\n            this.moveX = 0;\n        }\n\n        if (img) {\n            this.limitPanY();\n            this.limitPanX();\n        }\n        if (img && this.scale < 1) {\n            if (this.moveX < this.element.offsetWidth * (1 - this.scale)) {\n                this.moveX = this.element.offsetWidth * (1 - this.scale);\n            }\n        }\n\n        return initialMoveX !== this.moveX || initialMoveY !== this.moveY;\n    }\n\n    limitPanY() {\n        const imgHeight = this.getImageHeight();\n        const scaledImgHeight = imgHeight * this.scale;\n        const parentHeight = this.parentElement.offsetHeight;\n        const elementHeight = this.element.offsetHeight;\n\n        if (scaledImgHeight < parentHeight) {\n            this.moveY = (parentHeight - elementHeight * this.scale) / 2;\n        } else {\n            const imgOffsetTop = ((imgHeight - elementHeight) * this.scale) / 2;\n\n            if (this.moveY > imgOffsetTop) {\n                this.moveY = imgOffsetTop;\n            } else if ((scaledImgHeight + Math.abs(imgOffsetTop) - parentHeight) + this.moveY < 0) {\n                this.moveY = -(scaledImgHeight + Math.abs(imgOffsetTop) - parentHeight);\n            }\n        }\n    }\n\n    limitPanX() {\n        const imgWidth = this.getImageWidth();\n        const scaledImgWidth = imgWidth * this.scale;\n        const parentWidth = this.parentElement.offsetWidth;\n        const elementWidth = this.element.offsetWidth;\n\n        if (scaledImgWidth < parentWidth) {\n            this.moveX = (parentWidth - elementWidth * this.scale) / 2;\n        } else {\n            const imgOffsetLeft = ((imgWidth - elementWidth) * this.scale) / 2;\n\n            if (this.moveX > imgOffsetLeft) {\n                this.moveX = imgOffsetLeft;\n            } else if ((scaledImgWidth + Math.abs(imgOffsetLeft) - parentWidth) + this.moveX < 0) {\n                this.moveX = -(imgWidth * this.scale + Math.abs(imgOffsetLeft) - parentWidth);\n            }\n        }\n    }\n\n    setBasicStyles() {\n        this.element.style.display = 'flex';\n        this.element.style.alignItems = 'center';\n        this.element.style.justifyContent = 'center';\n        this.element.style.transformOrigin = '0 0';\n        this.setImageSize();\n        this.setDraggableImage();\n    }\n\n    removeBasicStyles() {\n        this.element.style.display = '';\n        this.element.style.alignItems = '';\n        this.element.style.justifyContent = '';\n        this.element.style.transformOrigin = '';\n        this.removeImageSize();\n        this.removeDraggableImage();\n    }\n\n    setDraggableImage() {\n        const imgElement = this.getImageElement();\n\n        if (imgElement) {\n            imgElement.draggable = this.properties.draggableImage;\n        }\n    }\n\n    removeDraggableImage() {\n        const imgElement = this.getImageElement();\n\n        if (imgElement) {\n            imgElement.draggable = true;\n        }\n    }\n\n    setImageSize() {\n        const imgElement = this.element.getElementsByTagName(this.elementTarget);\n\n        if (imgElement.length) {\n            imgElement[0].style.maxWidth = '100%';\n            imgElement[0].style.maxHeight = '100%';\n\n            this.setAutoHeight();\n        }\n    }\n\n    setAutoHeight() {\n        const imgElement = this.element.getElementsByTagName(this.elementTarget);\n\n        if (!this.properties.autoHeight || !imgElement.length) {\n            return;\n        }\n\n        const imgNaturalWidth = imgElement[0].getAttribute(\"width\");\n        const imgNaturalHeight = imgElement[0].getAttribute(\"height\");\n        const sizeRatio = imgNaturalWidth / imgNaturalHeight;\n        const parentWidth = this.parentElement.offsetWidth;\n\n        imgElement[0].style.maxHeight = parentWidth / sizeRatio + \"px\";\n    }\n\n    removeImageSize() {\n        const imgElement = this.element.getElementsByTagName(this.elementTarget);\n\n        if (imgElement.length) {\n            imgElement[0].style.maxWidth = '';\n            imgElement[0].style.maxHeight = '';\n        }\n    }\n\n    getElementPosition() {\n        this.elementPosition = this.element.parentElement.getBoundingClientRect();\n    }\n\n    getTouchstartPosition(event: any) {\n        const {\n            clientX,\n            clientY\n        } = this.getClientPosition(event);\n\n        this.startX = clientX - this.elementPosition.left;\n        this.startY = clientY - this.elementPosition.top;\n    }\n\n    getClientPosition(event: any, index: number = 0) {\n        let clientX;\n        let clientY;\n\n        if (event.type === \"touchstart\" || event.type === \"touchmove\") {\n            clientX = event.touches[index].clientX;\n            clientY = event.touches[index].clientY;\n        }\n        if (event.type === \"mousedown\" || event.type === \"mousemove\") {\n            clientX = event.clientX;\n            clientY = event.clientY;\n        }\n\n        return {\n            clientX,\n            clientY\n        };\n    }\n\n    resetScale() {\n        this.scale = 1;\n        this.moveX = 0;\n        this.moveY = 0;\n        this.updateInitialValues();\n        this.transformElement(this.properties.transitionDuration);\n    }\n\n    updateInitialValues() {\n        this.initialScale = this.scale;\n        this.initialMoveX = this.moveX;\n        this.initialMoveY = this.moveY;\n    }\n\n    getDistance(touches: any) {\n        return Math.sqrt(Math.pow(touches[0].pageX - touches[1].pageX, 2) + Math.pow(touches[0].pageY - touches[1].pageY, 2));\n    }\n\n    getImageHeight() {\n        const img = this.element.getElementsByTagName(this.elementTarget)[0];\n        return img.offsetHeight;\n    }\n\n    getImageWidth() {\n        const img = this.element.getElementsByTagName(this.elementTarget)[0];\n        return img.offsetWidth;\n    }\n\n    transformElement(duration: any) {\n        this.element.style.transition = \"all \" + duration + \"ms\";\n        this.element.style.transform = \"matrix(\" + Number(this.scale) + \", 0, 0, \" + Number(this.scale) + \", \" + Number(this.moveX) + \", \" + Number(this.moveY) + \")\";\n    }\n\n    isTouchScreen() {\n        const prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\n\n        if (('ontouchstart' in window)) {\n            return true;\n        }\n\n        // include the 'heartz' as a way to have a non matching MQ to help terminate the join\n        // https://git.io/vznFH\n        const query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\n        return this.getMatchMedia(query);\n    }\n\n    getMatchMedia(query: any) {\n        return window.matchMedia(query).matches;\n    }\n\n    isDragging() {\n        if (this.properties.disablePan) {\n            return false;\n        }\n\n        const imgHeight = this.getImageHeight();\n        const imgWidth = this.getImageWidth();\n\n        if (this.scale > 1) {\n            return imgHeight * this.scale > this.parentElement.offsetHeight ||\n                imgWidth * this.scale > this.parentElement.offsetWidth;\n        }\n        if (this.scale === 1) {\n            return imgHeight > this.parentElement.offsetHeight ||\n                imgWidth > this.parentElement.offsetWidth;\n        }\n\n        return undefined;\n    }\n\n    detectLimitZoom() {\n        this.maxScale = this.defaultMaxScale;\n\n        if (this.properties.limitZoom === \"original image size\" &&\n            this.elementTarget === \"IMG\") {\n            // We are waiting for the element with the image to be available\n            this.pollLimitZoomForOriginalImage();\n        }\n    }\n\n    pollLimitZoomForOriginalImage() {\n        let poll = setInterval(() => {\n            let maxScaleForOriginalImage = this.getMaxScaleForOriginalImage();\n            if (typeof maxScaleForOriginalImage === 'number') {\n                this.maxScale = maxScaleForOriginalImage;\n                clearInterval(poll);\n            }\n        }, 10);\n    }\n\n    getMaxScaleForOriginalImage() {\n        let maxScale!:number;\n        let img = this.element.getElementsByTagName(\"img\")[0];\n\n        if (img.naturalWidth && img.offsetWidth) {\n            maxScale = img.naturalWidth / img.offsetWidth;\n        }\n\n        return maxScale;\n    }\n\n    getImageElement() {\n        const imgElement = this.element.getElementsByTagName(this.elementTarget);\n\n        if (imgElement.length) {\n            return imgElement[0];\n        }\n    }\n\n    toggleZoom(event: any = false) {\n        if (this.initialScale === 1) {\n            if (event && event.changedTouches) {\n                if (this.properties.doubleTapScale === undefined) {\n                    return;\n                }\n\n                const changedTouches = event.changedTouches;\n                this.scale = this.initialScale * this.properties.doubleTapScale;\n                this.moveX = this.initialMoveX - (changedTouches[0].clientX - this.elementPosition.left) * (this.properties.doubleTapScale - 1);\n                this.moveY = this.initialMoveY - (changedTouches[0].clientY - this.elementPosition.top) * (this.properties.doubleTapScale - 1);\n            } else {\n                let zoomControlScale = this.properties.zoomControlScale || 0;\n                this.scale = this.initialScale * (zoomControlScale + 1);\n                this.moveX = this.initialMoveX - this.element.offsetWidth * (this.scale - 1) / 2;\n                this.moveY = this.initialMoveY - this.element.offsetHeight * (this.scale - 1) / 2;\n            }\n\n            this.centeringImage();\n            this.updateInitialValues();\n            this.transformElement(this.properties.transitionDuration);\n        } else {\n            this.resetScale();\n        }\n    }\n\n    setZoom(properties: {\n        scale: number,\n        center?: number[]\n    }) {\n        this.scale = properties.scale;\n\n        let xCenter;\n        let yCenter;\n        let visibleAreaWidth = this.element.offsetWidth;\n        let visibleAreaHeight = this.element.offsetHeight;\n        let scalingPercent = (visibleAreaWidth * this.scale) / (visibleAreaWidth * this.initialScale);\n\n        if (properties.center) {\n            xCenter = properties.center[0];\n            yCenter = properties.center[1];\n        } else {\n            xCenter = visibleAreaWidth / 2 - this.initialMoveX;\n            yCenter = visibleAreaHeight / 2 - this.initialMoveY;\n        }\n\n        this.moveX = this.initialMoveX - ((scalingPercent * xCenter) - xCenter);\n        this.moveY = this.initialMoveY - ((scalingPercent * yCenter) - yCenter);\n\n        this.centeringImage();\n        this.updateInitialValues();\n        this.transformElement(this.properties.transitionDuration);\n    }\n\n    alignImage() {\n        const isMoveChanged = this.centeringImage();\n\n        if (isMoveChanged) {\n            this.updateInitialValues();\n            this.transformElement(this.properties.transitionDuration);\n        }\n    }\n\n    destroy() {\n        this.removeBasicStyles();\n        this.touches.destroy();\n    }\n\n    getPropertiesValue(propertyName:PropertyName) {\n        if (this.properties && this.properties[propertyName]) {\n            return this.properties[propertyName]\n        } else {\n            return defaultProperties[propertyName];\n        }\n    }\n}","import {ChangeDetectorRef, Component, ElementRef, HostBinding, HostListener, Input, OnDestroy, SimpleChanges} from '@angular/core';\r\n\r\nimport {Properties} from './interfaces';\r\nimport {defaultProperties, backwardCompatibilityProperties} from './properties';\r\nimport {IvyPinch} from './ivypinch';\r\n\r\ninterface ComponentProperties extends Properties {\r\n    disabled?:boolean;\r\n    overflow?: \"hidden\" | \"visible\";\r\n    disableZoomControl?: \"disable\" | \"never\" | \"auto\";\r\n    backgroundColor?: string;\r\n}\r\n\r\nexport const _defaultComponentProperties:ComponentProperties = {\r\n    overflow: \"hidden\",\r\n    disableZoomControl: \"auto\",\r\n    backgroundColor: \"rgba(0,0,0,0.85)\"\r\n}\r\n\r\ntype PropertyName = keyof ComponentProperties;\r\n\r\n@Component({\r\n\tselector: 'pinch-zoom, [pinch-zoom]',\r\n    exportAs: 'pinchZoom',\r\n    templateUrl: './pinch-zoom.component.html',\r\n    styleUrls: ['./pinch-zoom.component.sass']\r\n})\r\n\r\nexport class PinchZoomComponent implements OnDestroy {\r\n    pinchZoom: any;\r\n    _properties!: ComponentProperties;\r\n    defaultComponentProperties!: ComponentProperties;\r\n    zoomControlPositionClass: string | undefined;\r\n    _transitionDuration!:number;\r\n    _doubleTap!:boolean;\r\n    _doubleTapScale!:number;\r\n    _autoZoomOut!:boolean;\r\n    _limitZoom!:number | \"original image size\";\r\n\r\n    @Input('properties') set properties(value: ComponentProperties) {\r\n        if (value) {\r\n            this._properties = value;\r\n        }\r\n    }\r\n    get properties() {\r\n        return this._properties;\r\n    }\r\n\r\n    // transitionDuration\r\n    @Input('transition-duration') set transitionDurationBackwardCompatibility(value: number) {\r\n        if (value) {\r\n            this._transitionDuration = value;\r\n        }\r\n    }\r\n    @Input('transitionDuration') set transitionDuration(value: number) {\r\n        if (value) {\r\n            this._transitionDuration = value;\r\n        }\r\n    }\r\n    get transitionDuration() {\r\n        return this._transitionDuration;\r\n    }\r\n\r\n    // doubleTap\r\n    @Input('double-tap') set doubleTapBackwardCompatibility(value: boolean) {\r\n        if (value) {\r\n            this._doubleTap = value;\r\n        }\r\n    }\r\n    @Input('doubleTap') set doubleTap(value: boolean) {\r\n        if (value) {\r\n            this._doubleTap = value;\r\n        }\r\n    }\r\n    get doubleTap() {\r\n        return this._doubleTap;\r\n    }\r\n\r\n    // doubleTapScale\r\n    @Input('double-tap-scale') set doubleTapScaleBackwardCompatibility(value: number) {\r\n        if (value) {\r\n            this._doubleTapScale = value;\r\n        }\r\n    }\r\n    @Input('doubleTapScale') set doubleTapScale(value: number) {\r\n        if (value) {\r\n            this._doubleTapScale = value;\r\n        }\r\n    }\r\n    get doubleTapScale() {\r\n        return this._doubleTapScale;\r\n    }\r\n\r\n    // autoZoomOut\r\n    @Input('auto-zoom-out') set autoZoomOutBackwardCompatibility(value: boolean) {\r\n        if (value) {\r\n            this._autoZoomOut = value;\r\n        }\r\n    }\r\n    @Input('autoZoomOut') set autoZoomOut(value: boolean) {\r\n        if (value) {\r\n            this._autoZoomOut = value;\r\n        }\r\n    }\r\n    get autoZoomOut() {\r\n        return this._autoZoomOut;\r\n    }\r\n\r\n    // limitZoom\r\n    @Input('limit-zoom') set limitZoomBackwardCompatibility(value: number | \"original image size\") {\r\n        if (value) {\r\n            this._limitZoom = value;\r\n        }\r\n    }\r\n    @Input('limitZoom') set limitZoom(value: number | \"original image size\") {\r\n        if (value) {\r\n            this._limitZoom = value;\r\n        }\r\n    }\r\n    get limitZoom() {\r\n        return this._limitZoom;\r\n    }\r\n\r\n    @Input() disabled!: boolean;\r\n    @Input() disablePan!: boolean;\r\n    @Input() overflow!: \"hidden\" | \"visible\";\r\n    @Input() zoomControlScale!: number;\r\n    @Input() disableZoomControl!: \"disable\" | \"never\" | \"auto\";\r\n    @Input() backgroundColor!: string;\r\n    @Input() limitPan!: boolean;\r\n    @Input() minPanScale!: number;\r\n    @Input() minScale!: number;\r\n    @Input() listeners!: 'auto' | 'mouse and touch';\r\n    @Input() wheel!: boolean;\r\n    @Input() autoHeight!: boolean;\r\n    @Input() wheelZoomFactor!: number;\r\n    @Input() draggableImage!: boolean;\r\n\r\n    @HostBinding('style.overflow')\r\n    get hostOverflow() {\r\n        return this.properties['overflow'];\r\n    }\r\n    @HostBinding('style.background-color')\r\n    get hostBackgroundColor() {\r\n        return this.properties['backgroundColor'];\r\n    }\r\n\r\n    get isTouchScreen() {\r\n        var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\r\n        var mq = function(query:any) {\r\n            return window.matchMedia(query).matches;\r\n        }\r\n\r\n        if (('ontouchstart' in window)) {\r\n            return true;\r\n        }\r\n\r\n        // include the 'heartz' as a way to have a non matching MQ to help terminate the join\r\n        // https://git.io/vznFH\r\n        var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\r\n        return mq(query);\r\n    }\r\n\r\n    get isDragging() {\r\n        return this.pinchZoom ? this.pinchZoom.isDragging() : undefined;\r\n    }\r\n\r\n    get isDisabled() {\r\n        return this.properties['disabled'];\r\n    }\r\n\r\n    get scale() {\r\n        return this.pinchZoom.scale;\r\n    }\r\n\r\n    get isZoomedIn() {\r\n        return this.scale > 1;\r\n    }\r\n\r\n    get scaleLevel() {\r\n        return Math.round(this.scale / this._zoomControlScale);\r\n    }\r\n\r\n    get maxScale() {\r\n        return this.pinchZoom.maxScale;\r\n    }\r\n\r\n    get isZoomLimitReached() {\r\n        return this.scale >= this.maxScale;\r\n    }\r\n\r\n    get _zoomControlScale() {\r\n        return this.getPropertiesValue('zoomControlScale');\r\n    }\r\n\r\n   constructor(private elementRef: ElementRef) {\r\n        this.defaultComponentProperties = this.getDefaultComponentProperties();\r\n        this.applyPropertiesDefault(this.defaultComponentProperties, {});\r\n    }\r\n\r\n    ngOnInit(){\r\n        this.initPinchZoom();\r\n        \r\n        /* Calls the method until the image size is available */\r\n        this.detectLimitZoom();\r\n    }\r\n\r\n    ngOnChanges(changes:SimpleChanges) {\r\n        let changedProperties = this.getProperties(changes);\r\n        changedProperties = this.renameProperties(changedProperties);\r\n\r\n        this.applyPropertiesDefault(this.defaultComponentProperties, changedProperties);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.destroy();\r\n    }\r\n\r\n    initPinchZoom() {\r\n        if (this.properties['disabled']) {\r\n            return;\r\n        }\r\n\r\n        this.properties['element'] = this.elementRef.nativeElement.querySelector('.pinch-zoom-content');\r\n        this.pinchZoom = new IvyPinch(this.properties);\r\n    }\r\n\r\n    getProperties(changes:SimpleChanges) {\r\n        let properties:any = {};\r\n\r\n        for (var prop in changes) {\r\n            if (prop !== 'properties'){\r\n                properties[prop] = changes[prop].currentValue;\r\n            }\r\n            if (prop === 'properties'){\r\n                properties = changes[prop].currentValue;\r\n            }\r\n        }\r\n        return properties;\r\n    }\r\n\r\n    renameProperties(properties: any) {\r\n        for (var prop in properties) {\r\n            if (backwardCompatibilityProperties[prop]) {\r\n                properties[backwardCompatibilityProperties[prop]] = properties[prop];\r\n                delete properties[prop];\r\n            }\r\n        }\r\n\r\n        return properties;\r\n    }\r\n\r\n    applyPropertiesDefault(defaultProperties:ComponentProperties, properties:ComponentProperties): void {\r\n        this.properties = Object.assign({}, defaultProperties, properties);\r\n    }\r\n\r\n    toggleZoom() {\r\n        this.pinchZoom.toggleZoom();\r\n    }\r\n\r\n    isControl() {\r\n        if (this.isDisabled) {\r\n            return false;\r\n        }\r\n\r\n        if (this.properties['disableZoomControl'] === \"disable\") {\r\n            return false;\r\n        }\r\n\r\n        if (this.isTouchScreen && this.properties['disableZoomControl'] === \"auto\") {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    detectLimitZoom() {\r\n        if (this.pinchZoom) {\r\n            this.pinchZoom.detectLimitZoom();\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        this.pinchZoom.destroy();\r\n    }\r\n\r\n    getPropertiesValue(propertyName:PropertyName) {\r\n        if (this.properties && this.properties[propertyName]) {\r\n            return this.properties[propertyName]\r\n        } else {\r\n            return this.defaultComponentProperties[propertyName];\r\n        }\r\n    }\r\n\r\n    getDefaultComponentProperties() {\r\n        return {...defaultProperties, ..._defaultComponentProperties};\r\n    }\r\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PinchZoomComponent } from './pinch-zoom.component';\n\n@NgModule({\n    declarations: [\n        PinchZoomComponent\n    ],\n    imports: [\n        CommonModule\n    ],\n    exports: [\n        PinchZoomComponent\n    ],\n    providers: [\n\n    ],\n    bootstrap: [\n        \n    ],\n    entryComponents: [\n        PinchZoomComponent\n    ]\n})\nexport class PinchZoomModule { }\n","/*\n * Public API Surface of ngx-pinch-zoom\n */\n\nexport * from './lib/interfaces';\nexport * from './lib/pinch-zoom.module';\nexport * from './lib/pinch-zoom.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]}